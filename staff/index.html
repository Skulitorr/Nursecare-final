<!DOCTYPE html>
<html lang="is">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="NurseCare AI Dashboard - Staff Management System">
    <title>Staff Management | NurseCare AI</title>
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts - Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Chart.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    
    <!-- Application styles -->
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1>NurseCare AI</h1>
                <button class="toggle-btn" id="toggle-sidebar">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            
            <ul class="sidebar-menu">
                <li><span class="menu-section">Main</span></li>
                <li>
                    <a href="../index.html">
                        <i class="fas fa-tachometer-alt"></i>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li>
                    <a href="../schedule/index.html">
                        <i class="fas fa-calendar-alt"></i>
                        <span>Schedule</span>
                    </a>
                </li>
                <li>
                    <a href="../patients/index.html">
                        <i class="fas fa-user-injured"></i>
                        <span>Patients</span>
                    </a>
                </li>
                <li>
                    <a href="../staff/index.html" class="active">
                        <i class="fas fa-user-nurse"></i>
                        <span>Staff</span>
                    </a>
                </li>
                
                <li><span class="menu-section">Management</span></li>
                <li>
                    <a href="../inventory/index.html">
                        <i class="fas fa-box"></i>
                        <span>Inventory</span>
                    </a>
                </li>
                <li>
                    <a href="../dashboard/index.html">
                        <i class="fas fa-chart-bar"></i>
                        <span>Reports</span>
                    </a>
                </li>
                
                <li><span class="menu-section">Tools</span></li>
                <li>
                    <a href="../chatbot/index.html">
                        <i class="fas fa-comment-dots"></i>
                        <span>AI Assistant</span>
                    </a>
                </li>
            </ul>
            
            <div class="sidebar-footer">
                <button class="theme-toggle" id="theme-toggle">
                    <i class="fas fa-moon"></i>
                </button>
                <span>v1.2.0</span>
            </div>
        </aside>
        
        <!-- Main Content -->
        <div class="main-content">
            <!-- Top Navigation -->
            <div class="top-nav">
                <div class="welcome-message">
                    <h2>Staff Management</h2>
                    <div class="date-shift">
                        <span id="current-date">Wednesday, April 16, 2025</span> | 
                        <span id="current-shift">Morning Shift</span>
                    </div>
                </div>
                
                <div class="top-actions">
                    <div class="language-toggle">
                        <button class="language-btn active" data-lang="is">IS</button>
                        <button class="language-btn" data-lang="en">EN</button>
                    </div>
                    
                    <button class="notification-btn">
                        <i class="fas fa-bell"></i>
                        <span class="notification-count">3</span>
                    </button>
                    
                    <button class="chat-toggle-btn">
                        <i class="fas fa-comment-dots"></i>
                    </button>
                    
                    <div class="user-info">
                        <div class="user-avatar">
                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=anna" alt="User Avatar">
                        </div>
                        <div class="user-details">
                            <h4>Anna S.</h4>
                            <span>Shift Manager</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Dashboard Grid -->
            <div class="dashboard-grid">
                <!-- Staff Overview Card -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <h3>Staff Overview</h3>
                        <button class="action-btn" id="refresh-staff">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                    </div>
                    <div class="card-content">
                        <div class="overview-stats">
                            <div class="overview-stat">
                                <div class="stat-icon">
                                    <i class="fas fa-user-nurse"></i>
                                </div>
                                <div class="stat-info">
                                    <div class="stat-label">Total Staff</div>
                                    <div class="stat-value">24</div>
                                </div>
                            </div>
                            <div class="overview-stat">
                                <div class="stat-icon" style="background-color: #4cc9f0;">
                                    <i class="fas fa-user-check"></i>
                                </div>
                                <div class="stat-info">
                                    <div class="stat-label">On Duty</div>
                                    <div class="stat-value">16</div>
                                </div>
                            </div>
                            <div class="overview-stat">
                                <div class="stat-icon" style="background-color: #f72585;">
                                    <i class="fas fa-user-clock"></i>
                                </div>
                                <div class="stat-info">
                                    <div class="stat-label">On Leave</div>
                                    <div class="stat-value">3</div>
                                </div>
                            </div>
                            <div class="overview-stat">
                                <div class="stat-icon" style="background-color: #ffd166;">
                                    <i class="fas fa-user-shield"></i>
                                </div>
                                <div class="stat-info">
                                    <div class="stat-label">Unassigned</div>
                                    <div class="stat-value">5</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Staff List Card -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <h3>Staff List</h3>
                        <div>
                            <button class="btn btn-primary" id="add-staff-btn">
                                <i class="fas fa-plus"></i> Add Staff
                            </button>
                        </div>
                    </div>
                    <div class="card-content">
                        <div class="staff-search">
                            <div class="search-box">
                                <i class="fas fa-search"></i>
                                <input type="text" placeholder="Search staff...">
                            </div>
                            <div class="filter-options">
                                <select>
                                    <option value="">All Roles</option>
                                    <option value="nurse">Nurse</option>
                                    <option value="doctor">Doctor</option>
                                    <option value="admin">Admin</option>
                                </select>
                                <select>
                                    <option value="">All Status</option>
                                    <option value="active">Active</option>
                                    <option value="leave">On Leave</option>
                                    <option value="inactive">Inactive</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="staff-list">
                            <div class="staff-item">
                                <div class="staff-avatar">
                                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=john" alt="John Doe">
                                </div>
                                <div class="staff-details">
                                    <h4>John Doe</h4>
                                    <span class="staff-role">Senior Nurse</span>
                                    <span class="staff-status active">Active</span>
                                </div>
                                <div class="staff-actions">
                                    <button class="action-btn view-btn" data-action="view" data-id="1">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="action-btn edit-btn" data-action="edit" data-id="1">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="action-btn delete-btn" data-action="delete" data-id="1">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <div class="staff-item">
                                <div class="staff-avatar">
                                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=jane" alt="Jane Smith">
                                </div>
                                <div class="staff-details">
                                    <h4>Jane Smith</h4>
                                    <span class="staff-role">Doctor</span>
                                    <span class="staff-status active">Active</span>
                                </div>
                                <div class="staff-actions">
                                    <button class="action-btn view-btn" data-action="view" data-id="2">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="action-btn edit-btn" data-action="edit" data-id="2">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="action-btn delete-btn" data-action="delete" data-id="2">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <div class="staff-item">
                                <div class="staff-avatar">
                                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=robert" alt="Robert Johnson">
                                </div>
                                <div class="staff-details">
                                    <h4>Robert Johnson</h4>
                                    <span class="staff-role">Intern</span>
                                    <span class="staff-status inactive">On Leave</span>
                                </div>
                                <div class="staff-actions">
                                    <button class="action-btn view-btn" data-action="view" data-id="3">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="action-btn edit-btn" data-action="edit" data-id="3">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="action-btn delete-btn" data-action="delete" data-id="3">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <div class="staff-item">
                                <div class="staff-avatar">
                                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=mary" alt="Mary Williams">
                                </div>
                                <div class="staff-details">
                                    <h4>Mary Williams</h4>
                                    <span class="staff-role">Head Nurse</span>
                                    <span class="staff-status active">Active</span>
                                </div>
                                <div class="staff-actions">
                                    <button class="action-btn view-btn" data-action="view" data-id="4">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="action-btn edit-btn" data-action="edit" data-id="4">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="action-btn delete-btn" data-action="delete" data-id="4">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="pagination">
                            <button class="pagination-btn" disabled>
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <span class="pagination-info">Page 1 of 3</span>
                            <button class="pagination-btn">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Staff Charts -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <h3>Staff Analytics</h3>
                    </div>
                    <div class="card-content">
                        <div class="charts-container">
                            <div class="chart-wrapper">
                                <h4>Staff Distribution</h4>
                                <div class="chart-container">
                                    <canvas id="staffDistributionChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Add Staff Modal -->
            <div class="modal" id="add-staff-modal">
                <div class="modal-overlay"></div>
                <div class="modal-container">
                    <div class="modal-header">
                        <h3>Add New Staff</h3>
                        <button class="close-modal">&times;</button>
                    </div>
                    <div class="modal-body">
                        <form id="add-staff-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="staff-name">Full Name</label>
                                    <input type="text" id="staff-name" class="form-control" required>
                                </div>
                                <div class="form-group">
                                    <label for="staff-email">Email</label>
                                    <input type="email" id="staff-email" class="form-control" required>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="staff-role">Role</label>
                                    <select id="staff-role" class="form-control" required>
                                        <option value="">Select Role</option>
                                        <option value="nurse">Nurse</option>
                                        <option value="doctor">Doctor</option>
                                        <option value="admin">Admin Staff</option>
                                        <option value="intern">Intern</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="staff-status">Status</label>
                                    <select id="staff-status" class="form-control" required>
                                        <option value="active">Active</option>
                                        <option value="leave">On Leave</option>
                                        <option value="inactive">Inactive</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="staff-phone">Phone</label>
                                    <input type="tel" id="staff-phone" class="form-control">
                                </div>
                                <div class="form-group">
                                    <label for="staff-department">Department</label>
                                    <select id="staff-department" class="form-control">
                                        <option value="">Select Department</option>
                                        <option value="emergency">Emergency</option>
                                        <option value="cardiology">Cardiology</option>
                                        <option value="neurology">Neurology</option>
                                        <option value="pediatrics">Pediatrics</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="staff-notes">Notes</label>
                                <textarea id="staff-notes" class="form-control" rows="3"></textarea>
                            </div>
                            <div class="form-actions">
                                <button type="button" class="btn btn-outline" data-dismiss="modal">Cancel</button>
                                <button type="submit" class="btn btn-primary">Add Staff</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            
            <!-- View Staff Modal -->
            <div class="modal" id="view-staff-modal">
                <div class="modal-overlay"></div>
                <div class="modal-container">
                    <div class="modal-header">
                        <h3>Staff Details</h3>
                        <button class="close-modal">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div class="staff-profile">
                            <div class="staff-avatar-large">
                                <img id="view-staff-avatar" src="https://api.dicebear.com/7.x/avataaars/svg?seed=john" alt="Staff Avatar">
                            </div>
                            <div class="staff-info">
                                <h2 id="view-staff-name">John Doe</h2>
                                <span id="view-staff-role" class="badge">Senior Nurse</span>
                                <span id="view-staff-status" class="badge active">Active</span>
                            </div>
                        </div>
                        <div class="staff-details-grid">
                            <div class="detail-item">
                                <span class="detail-label">Email</span>
                                <span id="view-staff-email" class="detail-value">john.doe@example.com</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Phone</span>
                                <span id="view-staff-phone" class="detail-value">+1 (555) 123-4567</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Department</span>
                                <span id="view-staff-department" class="detail-value">Emergency</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-label">Joined</span>
                                <span id="view-staff-joined" class="detail-value">Jan 15, 2023</span>
                            </div>
                            <div class="detail-item full-width">
                                <span class="detail-label">Notes</span>
                                <p id="view-staff-notes" class="detail-value">
                                    Experienced nurse with specialty in emergency care. 
                                    Team leader for night shift. Certified in advanced life support.
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-outline" data-dismiss="modal">Close</button>
                        <button class="btn btn-primary" data-action="edit" data-id="1">Edit</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Main JavaScript -->
    <script src="../script.js"></script>
    
    <!-- Staff Specific JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize staff page specific elements
            initializeStaffCharts();
            initializeStaffModals();
        });
        
        function initializeStaffCharts() {
            const ctx = document.getElementById('staffDistributionChart');
            if (!ctx) return;
            
            const staffChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Nurses', 'Doctors', 'Admin', 'Interns'],
                    datasets: [{
                        data: [12, 5, 4, 3],
                        backgroundColor: [
                            '#4a6cf7',
                            '#4cc9f0',
                            '#f72585',
                            '#ffd166'
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    },
                    cutout: '70%'
                }
            });
        }
        
        function initializeStaffModals() {
            // Add staff button
            const addStaffBtn = document.getElementById('add-staff-btn');
            const addStaffModal = document.getElementById('add-staff-modal');
            
            if (addStaffBtn && addStaffModal) {
                addStaffBtn.addEventListener('click', function() {
                    addStaffModal.classList.add('show');
                });
            }
            
            // View staff buttons
            const viewButtons = document.querySelectorAll('[data-action="view"]');
            const viewStaffModal = document.getElementById('view-staff-modal');
            
            viewButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const staffId = this.getAttribute('data-id');
                    // In a real app, fetch staff details by ID
                    // For now, just show the modal
                    if (viewStaffModal) {
                        viewStaffModal.classList.add('show');
                    }
                });
            });
            
            // Close modals
            const closeButtons = document.querySelectorAll('.close-modal, [data-dismiss="modal"]');
            closeButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const modal = this.closest('.modal');
                    if (modal) {
                        modal.classList.remove('show');
                    }
                });
            });
            
            // Form submission
            const addStaffForm = document.getElementById('add-staff-form');
            if (addStaffForm) {
                addStaffForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    // In a real app, save the form data
                    // For now, just close the modal and show a success message
                    addStaffModal.classList.remove('show');
                    showToast('Success', 'Staff member added successfully', 'success');
                });
            }
        }
        
        function showToast(title, message, type = 'info') {
            const toastContainer = document.querySelector('.toast-container') || createToastContainer();
            const toast = document.createElement('div');
            toast.className = `toast toast-${type}`;
            
            toast.innerHTML = `
                <div class="toast-icon">
                    <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'warning' ? 'exclamation-triangle' : 'info-circle'}"></i>
                </div>
                <div class="toast-content">
                    <h4 class="toast-title">${title}</h4>
                    <p class="toast-message">${message}</p>
                </div>
                <button class="toast-close">&times;</button>
            `;
            
            toastContainer.appendChild(toast);
            
            // Show the toast
            setTimeout(() => {
                toast.classList.add('show');
            }, 10);
            
            // Auto close after 5 seconds
            setTimeout(() => {
                toast.classList.add('toast-hide');
                setTimeout(() => {
                    toast.remove();
                }, 300);
            }, 5000);
            
            // Close button
            const closeButton = toast.querySelector('.toast-close');
            if (closeButton) {
                closeButton.addEventListener('click', () => {
                    toast.classList.add('toast-hide');
                    setTimeout(() => {
                        toast.remove();
                    }, 300);
                });
            }
        }
        
        function createToastContainer() {
            const container = document.createElement('div');
            container.className = 'toast-container';
            document.body.appendChild(container);
            return container;
        }
    </script>
</body>
</html> 